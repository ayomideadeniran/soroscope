module.exports=[7912,a=>{"use strict";var b=a.i(8171),c=a.i(27669);let d=(0,c.createContext)(void 0);a.s(["WalletProvider",0,({children:e})=>{let[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{let b=await a.A(21352),c=new b.StellarWalletsKit({network:b.WalletNetwork.TESTNET,selectedWalletId:b.FREIGHTER_ID,modules:b.allowAllModules()});q(c);let d=localStorage.getItem("inheritx_wallet_address"),e=localStorage.getItem("inheritx_wallet_id");d&&e&&(g(d),k(e))}catch(a){console.error("Failed to initialize wallet kit:",a),o("Failed to load wallet kit")}})()},[]);let r=async a=>{if(!p)return void o("Wallet kit not loaded yet");i(!0),o(null);try{p.setWallet(a);let{address:b}=await p.getAddress();g(b),k(a),localStorage.setItem("inheritx_wallet_address",b),localStorage.setItem("inheritx_wallet_id",a),m(!1)}catch(a){o(a?.message||"Connection failed"),console.error("Wallet connection failed:",a)}finally{i(!1)}},s=async()=>{if(p)try{await p.disconnect()}catch(a){console.error("Disconnect error:",a)}g(null),k(null),o(null),localStorage.removeItem("inheritx_wallet_address"),localStorage.removeItem("inheritx_wallet_id")};return(0,b.jsx)(d.Provider,{value:{connect:r,disconnect:s,address:f,isConnected:!!f,isConnecting:h,selectedWalletId:j,openModal:()=>{o(null),m(!0)},closeModal:()=>{o(null),m(!1)},isModalOpen:l,supportedWallets:[{id:"freighter",name:"Freighter",icon:"/icons/freighter.png"},{id:"albedo",name:"Albedo",icon:"/icons/albedo.png"},{id:"xbull",name:"xBull",icon:"/icons/xbull.png"},{id:"rabet",name:"Rabet",icon:"/icons/rabet.png"},{id:"lobstr",name:"Lobstr",icon:"/icons/lobstr.png"}],error:n},children:e})},"useWallet",0,()=>{let a=(0,c.useContext)(d);if(!a)throw Error("useWallet must be used within a WalletProvider");return a}])},67298,a=>{"use strict";var b=a.i(8171),c=a.i(7912);function d({Component:a,pageProps:d}){return(0,b.jsx)(c.WalletProvider,{children:(0,b.jsx)(a,{...d})})}a.s(["default",()=>d])},21352,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_aba5525e._.js","server/chunks/ssr/[root-of-the-server]__bc2cdaa2._.js"].map(b=>a.l(b))).then(()=>b(57665)))}];

//# sourceMappingURL=_bdf29713._.js.map