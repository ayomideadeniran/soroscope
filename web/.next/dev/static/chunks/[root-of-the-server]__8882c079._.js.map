{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["turbopack:///[turbopack]/browser/dev/hmr-client/hmr-client.ts"],"sourcesContent":["/// <reference path=\"../../../shared/runtime-types.d.ts\" />\n/// <reference path=\"../../runtime/base/dev-globals.d.ts\" />\n/// <reference path=\"../../runtime/base/dev-protocol.d.ts\" />\n/// <reference path=\"../../runtime/base/dev-extensions.ts\" />\n\ntype SendMessage = (msg: any) => void\nexport type WebSocketMessage =\n  | {\n      type: 'turbopack-connected'\n    }\n  | {\n      type: 'turbopack-message'\n      data: Record<string, any>\n    }\n\nexport type ClientOptions = {\n  addMessageListener: (cb: (msg: WebSocketMessage) => void) => void\n  sendMessage: SendMessage\n  onUpdateError: (err: unknown) => void\n}\n\nexport function connect({\n  addMessageListener,\n  sendMessage,\n  onUpdateError = console.error,\n}: ClientOptions) {\n  addMessageListener((msg) => {\n    switch (msg.type) {\n      case 'turbopack-connected':\n        handleSocketConnected(sendMessage)\n        break\n      default:\n        try {\n          if (Array.isArray(msg.data)) {\n            for (let i = 0; i < msg.data.length; i++) {\n              handleSocketMessage(msg.data[i] as ServerMessage)\n            }\n          } else {\n            handleSocketMessage(msg.data as ServerMessage)\n          }\n          applyAggregatedUpdates()\n        } catch (e: unknown) {\n          console.warn(\n            '[Fast Refresh] performing full reload\\n\\n' +\n              \"Fast Refresh will perform a full reload when you edit a file that's imported by modules outside of the React rendering tree.\\n\" +\n              'You might have a file which exports a React component but also exports a value that is imported by a non-React component file.\\n' +\n              'Consider migrating the non-React component export to a separate file and importing it into both files.\\n\\n' +\n              'It is also possible the parent component of the component you edited is a class component, which disables Fast Refresh.\\n' +\n              'Fast Refresh requires at least one parent function component in your React tree.'\n          )\n          onUpdateError(e)\n          location.reload()\n        }\n        break\n    }\n  })\n\n  const queued = globalThis.TURBOPACK_CHUNK_UPDATE_LISTENERS\n  if (queued != null && !Array.isArray(queued)) {\n    throw new Error('A separate HMR handler was already registered')\n  }\n  globalThis.TURBOPACK_CHUNK_UPDATE_LISTENERS = {\n    push: ([chunkPath, callback]: [ChunkListPath, UpdateCallback]) => {\n      subscribeToChunkUpdate(chunkPath, sendMessage, callback)\n    },\n  }\n\n  if (Array.isArray(queued)) {\n    for (const [chunkPath, callback] of queued) {\n      subscribeToChunkUpdate(chunkPath, sendMessage, callback)\n    }\n  }\n}\n\ntype UpdateCallbackSet = {\n  callbacks: Set<UpdateCallback>\n  unsubscribe: () => void\n}\n\nconst updateCallbackSets: Map<ResourceKey, UpdateCallbackSet> = new Map()\n\nfunction sendJSON(sendMessage: SendMessage, message: ClientMessage) {\n  sendMessage(JSON.stringify(message))\n}\n\ntype ResourceKey = string\n\nfunction resourceKey(resource: ResourceIdentifier): ResourceKey {\n  return JSON.stringify({\n    path: resource.path,\n    headers: resource.headers || null,\n  })\n}\n\nfunction subscribeToUpdates(\n  sendMessage: SendMessage,\n  resource: ResourceIdentifier\n): () => void {\n  sendJSON(sendMessage, {\n    type: 'turbopack-subscribe',\n    ...resource,\n  })\n\n  return () => {\n    sendJSON(sendMessage, {\n      type: 'turbopack-unsubscribe',\n      ...resource,\n    })\n  }\n}\n\nfunction handleSocketConnected(sendMessage: SendMessage) {\n  for (const key of updateCallbackSets.keys()) {\n    subscribeToUpdates(sendMessage, JSON.parse(key))\n  }\n}\n\n// we aggregate all pending updates until the issues are resolved\nconst chunkListsWithPendingUpdates: Map<ResourceKey, PartialServerMessage> =\n  new Map()\n\nfunction aggregateUpdates(msg: PartialServerMessage) {\n  const key = resourceKey(msg.resource)\n  let aggregated = chunkListsWithPendingUpdates.get(key)\n\n  if (aggregated) {\n    aggregated.instruction = mergeChunkListUpdates(\n      aggregated.instruction,\n      msg.instruction\n    )\n  } else {\n    chunkListsWithPendingUpdates.set(key, msg)\n  }\n}\n\nfunction applyAggregatedUpdates() {\n  if (chunkListsWithPendingUpdates.size === 0) return\n  hooks.beforeRefresh()\n  for (const msg of chunkListsWithPendingUpdates.values()) {\n    triggerUpdate(msg)\n  }\n  chunkListsWithPendingUpdates.clear()\n  finalizeUpdate()\n}\n\nfunction mergeChunkListUpdates(\n  updateA: ChunkListUpdate,\n  updateB: ChunkListUpdate\n): ChunkListUpdate {\n  let chunks\n  if (updateA.chunks != null) {\n    if (updateB.chunks == null) {\n      chunks = updateA.chunks\n    } else {\n      chunks = mergeChunkListChunks(updateA.chunks, updateB.chunks)\n    }\n  } else if (updateB.chunks != null) {\n    chunks = updateB.chunks\n  }\n\n  let merged\n  if (updateA.merged != null) {\n    if (updateB.merged == null) {\n      merged = updateA.merged\n    } else {\n      // Since `merged` is an array of updates, we need to merge them all into\n      // one, consistent update.\n      // Since there can only be `EcmascriptMergeUpdates` in the array, there is\n      // no need to key on the `type` field.\n      let update = updateA.merged[0]\n      for (let i = 1; i < updateA.merged.length; i++) {\n        update = mergeChunkListEcmascriptMergedUpdates(\n          update,\n          updateA.merged[i]\n        )\n      }\n\n      for (let i = 0; i < updateB.merged.length; i++) {\n        update = mergeChunkListEcmascriptMergedUpdates(\n          update,\n          updateB.merged[i]\n        )\n      }\n\n      merged = [update]\n    }\n  } else if (updateB.merged != null) {\n    merged = updateB.merged\n  }\n\n  return {\n    type: 'ChunkListUpdate',\n    chunks,\n    merged,\n  }\n}\n\nfunction mergeChunkListChunks(\n  chunksA: Record<ChunkPath, ChunkUpdate>,\n  chunksB: Record<ChunkPath, ChunkUpdate>\n): Record<ChunkPath, ChunkUpdate> {\n  const chunks: Record<ChunkPath, ChunkUpdate> = {}\n\n  for (const [chunkPath, chunkUpdateA] of Object.entries(chunksA) as Array<\n    [ChunkPath, ChunkUpdate]\n  >) {\n    const chunkUpdateB = chunksB[chunkPath]\n    if (chunkUpdateB != null) {\n      const mergedUpdate = mergeChunkUpdates(chunkUpdateA, chunkUpdateB)\n      if (mergedUpdate != null) {\n        chunks[chunkPath] = mergedUpdate\n      }\n    } else {\n      chunks[chunkPath] = chunkUpdateA\n    }\n  }\n\n  for (const [chunkPath, chunkUpdateB] of Object.entries(chunksB) as Array<\n    [ChunkPath, ChunkUpdate]\n  >) {\n    if (chunks[chunkPath] == null) {\n      chunks[chunkPath] = chunkUpdateB\n    }\n  }\n\n  return chunks\n}\n\nfunction mergeChunkUpdates(\n  updateA: ChunkUpdate,\n  updateB: ChunkUpdate\n): ChunkUpdate | undefined {\n  if (\n    (updateA.type === 'added' && updateB.type === 'deleted') ||\n    (updateA.type === 'deleted' && updateB.type === 'added')\n  ) {\n    return undefined\n  }\n\n  if (updateA.type === 'partial') {\n    invariant(updateA.instruction, 'Partial updates are unsupported')\n  }\n\n  if (updateB.type === 'partial') {\n    invariant(updateB.instruction, 'Partial updates are unsupported')\n  }\n\n  return undefined\n}\n\nfunction mergeChunkListEcmascriptMergedUpdates(\n  mergedA: EcmascriptMergedUpdate,\n  mergedB: EcmascriptMergedUpdate\n): EcmascriptMergedUpdate {\n  const entries = mergeEcmascriptChunkEntries(mergedA.entries, mergedB.entries)\n  const chunks = mergeEcmascriptChunksUpdates(mergedA.chunks, mergedB.chunks)\n\n  return {\n    type: 'EcmascriptMergedUpdate',\n    entries,\n    chunks,\n  }\n}\n\nfunction mergeEcmascriptChunkEntries(\n  entriesA: Record<ModuleId, EcmascriptModuleEntry> | undefined,\n  entriesB: Record<ModuleId, EcmascriptModuleEntry> | undefined\n): Record<ModuleId, EcmascriptModuleEntry> {\n  return { ...entriesA, ...entriesB }\n}\n\nfunction mergeEcmascriptChunksUpdates(\n  chunksA: Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined,\n  chunksB: Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined\n): Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined {\n  if (chunksA == null) {\n    return chunksB\n  }\n\n  if (chunksB == null) {\n    return chunksA\n  }\n\n  const chunks: Record<ChunkPath, EcmascriptMergedChunkUpdate> = {}\n\n  for (const [chunkPath, chunkUpdateA] of Object.entries(chunksA) as Array<\n    [ChunkPath, EcmascriptMergedChunkUpdate]\n  >) {\n    const chunkUpdateB = chunksB[chunkPath]\n    if (chunkUpdateB != null) {\n      const mergedUpdate = mergeEcmascriptChunkUpdates(\n        chunkUpdateA,\n        chunkUpdateB\n      )\n      if (mergedUpdate != null) {\n        chunks[chunkPath] = mergedUpdate\n      }\n    } else {\n      chunks[chunkPath] = chunkUpdateA\n    }\n  }\n\n  for (const [chunkPath, chunkUpdateB] of Object.entries(chunksB) as Array<\n    [ChunkPath, EcmascriptMergedChunkUpdate]\n  >) {\n    if (chunks[chunkPath] == null) {\n      chunks[chunkPath] = chunkUpdateB\n    }\n  }\n\n  if (Object.keys(chunks).length === 0) {\n    return undefined\n  }\n\n  return chunks\n}\n\nfunction mergeEcmascriptChunkUpdates(\n  updateA: EcmascriptMergedChunkUpdate,\n  updateB: EcmascriptMergedChunkUpdate\n): EcmascriptMergedChunkUpdate | undefined {\n  if (updateA.type === 'added' && updateB.type === 'deleted') {\n    // These two completely cancel each other out.\n    return undefined\n  }\n\n  if (updateA.type === 'deleted' && updateB.type === 'added') {\n    const added = []\n    const deleted = []\n    const deletedModules = new Set(updateA.modules ?? [])\n    const addedModules = new Set(updateB.modules ?? [])\n\n    for (const moduleId of addedModules) {\n      if (!deletedModules.has(moduleId)) {\n        added.push(moduleId)\n      }\n    }\n\n    for (const moduleId of deletedModules) {\n      if (!addedModules.has(moduleId)) {\n        deleted.push(moduleId)\n      }\n    }\n\n    if (added.length === 0 && deleted.length === 0) {\n      return undefined\n    }\n\n    return {\n      type: 'partial',\n      added,\n      deleted,\n    }\n  }\n\n  if (updateA.type === 'partial' && updateB.type === 'partial') {\n    const added = new Set([...(updateA.added ?? []), ...(updateB.added ?? [])])\n    const deleted = new Set([\n      ...(updateA.deleted ?? []),\n      ...(updateB.deleted ?? []),\n    ])\n\n    if (updateB.added != null) {\n      for (const moduleId of updateB.added) {\n        deleted.delete(moduleId)\n      }\n    }\n\n    if (updateB.deleted != null) {\n      for (const moduleId of updateB.deleted) {\n        added.delete(moduleId)\n      }\n    }\n\n    return {\n      type: 'partial',\n      added: [...added],\n      deleted: [...deleted],\n    }\n  }\n\n  if (updateA.type === 'added' && updateB.type === 'partial') {\n    const modules = new Set([\n      ...(updateA.modules ?? []),\n      ...(updateB.added ?? []),\n    ])\n\n    for (const moduleId of updateB.deleted ?? []) {\n      modules.delete(moduleId)\n    }\n\n    return {\n      type: 'added',\n      modules: [...modules],\n    }\n  }\n\n  if (updateA.type === 'partial' && updateB.type === 'deleted') {\n    // We could eagerly return `updateB` here, but this would potentially be\n    // incorrect if `updateA` has added modules.\n\n    const modules = new Set(updateB.modules ?? [])\n\n    if (updateA.added != null) {\n      for (const moduleId of updateA.added) {\n        modules.delete(moduleId)\n      }\n    }\n\n    return {\n      type: 'deleted',\n      modules: [...modules],\n    }\n  }\n\n  // Any other update combination is invalid.\n\n  return undefined\n}\n\nfunction invariant(_: never, message: string): never {\n  throw new Error(`Invariant: ${message}`)\n}\n\nconst CRITICAL = ['bug', 'error', 'fatal']\n\nfunction compareByList(list: any[], a: any, b: any) {\n  const aI = list.indexOf(a) + 1 || list.length\n  const bI = list.indexOf(b) + 1 || list.length\n  return aI - bI\n}\n\nconst chunksWithIssues: Map<ResourceKey, Issue[]> = new Map()\n\nfunction emitIssues() {\n  const issues = []\n  const deduplicationSet = new Set()\n\n  for (const [_, chunkIssues] of chunksWithIssues) {\n    for (const chunkIssue of chunkIssues) {\n      if (deduplicationSet.has(chunkIssue.formatted)) continue\n\n      issues.push(chunkIssue)\n      deduplicationSet.add(chunkIssue.formatted)\n    }\n  }\n\n  sortIssues(issues)\n\n  hooks.issues(issues)\n}\n\nfunction handleIssues(msg: ServerMessage): boolean {\n  const key = resourceKey(msg.resource)\n  let hasCriticalIssues = false\n\n  for (const issue of msg.issues) {\n    if (CRITICAL.includes(issue.severity)) {\n      hasCriticalIssues = true\n    }\n  }\n\n  if (msg.issues.length > 0) {\n    chunksWithIssues.set(key, msg.issues)\n  } else if (chunksWithIssues.has(key)) {\n    chunksWithIssues.delete(key)\n  }\n\n  emitIssues()\n\n  return hasCriticalIssues\n}\n\nconst SEVERITY_ORDER = ['bug', 'fatal', 'error', 'warning', 'info', 'log']\nconst CATEGORY_ORDER = [\n  'parse',\n  'resolve',\n  'code generation',\n  'rendering',\n  'typescript',\n  'other',\n]\n\nfunction sortIssues(issues: Issue[]) {\n  issues.sort((a, b) => {\n    const first = compareByList(SEVERITY_ORDER, a.severity, b.severity)\n    if (first !== 0) return first\n    return compareByList(CATEGORY_ORDER, a.category, b.category)\n  })\n}\n\nconst hooks = {\n  beforeRefresh: () => {},\n  refresh: () => {},\n  buildOk: () => {},\n  issues: (_issues: Issue[]) => {},\n}\n\nexport function setHooks(newHooks: typeof hooks) {\n  Object.assign(hooks, newHooks)\n}\n\nfunction handleSocketMessage(msg: ServerMessage) {\n  sortIssues(msg.issues)\n\n  handleIssues(msg)\n\n  switch (msg.type) {\n    case 'issues':\n      // issues are already handled\n      break\n    case 'partial':\n      // aggregate updates\n      aggregateUpdates(msg)\n      break\n    default:\n      // run single update\n      const runHooks = chunkListsWithPendingUpdates.size === 0\n      if (runHooks) hooks.beforeRefresh()\n      triggerUpdate(msg)\n      if (runHooks) finalizeUpdate()\n      break\n  }\n}\n\nfunction finalizeUpdate() {\n  hooks.refresh()\n  hooks.buildOk()\n\n  // This is used by the Next.js integration test suite to notify it when HMR\n  // updates have been completed.\n  // TODO: Only run this in test environments (gate by `process.env.__NEXT_TEST_MODE`)\n  if (globalThis.__NEXT_HMR_CB) {\n    globalThis.__NEXT_HMR_CB()\n    globalThis.__NEXT_HMR_CB = null\n  }\n}\n\nfunction subscribeToChunkUpdate(\n  chunkListPath: ChunkListPath,\n  sendMessage: SendMessage,\n  callback: UpdateCallback\n): () => void {\n  return subscribeToUpdate(\n    {\n      path: chunkListPath,\n    },\n    sendMessage,\n    callback\n  )\n}\n\nexport function subscribeToUpdate(\n  resource: ResourceIdentifier,\n  sendMessage: SendMessage,\n  callback: UpdateCallback\n) {\n  const key = resourceKey(resource)\n  let callbackSet: UpdateCallbackSet\n  const existingCallbackSet = updateCallbackSets.get(key)\n  if (!existingCallbackSet) {\n    callbackSet = {\n      callbacks: new Set([callback]),\n      unsubscribe: subscribeToUpdates(sendMessage, resource),\n    }\n    updateCallbackSets.set(key, callbackSet)\n  } else {\n    existingCallbackSet.callbacks.add(callback)\n    callbackSet = existingCallbackSet\n  }\n\n  return () => {\n    callbackSet.callbacks.delete(callback)\n\n    if (callbackSet.callbacks.size === 0) {\n      callbackSet.unsubscribe()\n      updateCallbackSets.delete(key)\n    }\n  }\n}\n\nfunction triggerUpdate(msg: ServerMessage) {\n  const key = resourceKey(msg.resource)\n  const callbackSet = updateCallbackSets.get(key)\n  if (!callbackSet) {\n    return\n  }\n\n  for (const callback of callbackSet.callbacks) {\n    callback(msg)\n  }\n\n  if (msg.type === 'notFound') {\n    // This indicates that the resource which we subscribed to either does not exist or\n    // has been deleted. In either case, we should clear all update callbacks, so if a\n    // new subscription is created for the same resource, it will send a new \"subscribe\"\n    // message to the server.\n    // No need to send an \"unsubscribe\" message to the server, it will have already\n    // dropped the update stream before sending the \"notFound\" message.\n    updateCallbackSets.delete(key)\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/codes/drips_network/soroscope/web/context/WalletContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\n\ninterface WalletContextType {\n  connect: (moduleId: string) => Promise<void>;\n  disconnect: () => Promise<void>;\n  address: string | null;\n  isConnected: boolean;\n  isConnecting: boolean;\n  selectedWalletId: string | null;\n  openModal: () => void;\n  closeModal: () => void;\n  isModalOpen: boolean;\n  supportedWallets: { id: string; name: string; icon: string }[];\n  error: string | null;\n}\n\nconst WalletContext = createContext<WalletContextType | undefined>(undefined);\n\nexport const useWallet = () => {\n  const context = useContext(WalletContext);\n  if (!context) {\n    throw new Error(\"useWallet must be used within a WalletProvider\");\n  }\n  return context;\n};\n\nexport const WalletProvider = ({ children }: { children: React.ReactNode }) => {\n  const [address, setAddress] = useState<string | null>(null);\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [selectedWalletId, setSelectedWalletId] = useState<string | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [kit, setKit] = useState<any>(null);\n\n  useEffect(() => {\n    const initKit = async () => {\n      try {\n        const walletKitModule = await import(\"@creit.tech/stellar-wallets-kit\");\n\n        const kitInstance = new walletKitModule.StellarWalletsKit({\n          network: walletKitModule.WalletNetwork.TESTNET,\n          selectedWalletId: walletKitModule.FREIGHTER_ID,\n          modules: walletKitModule.allowAllModules(),\n        });\n\n        setKit(kitInstance);\n\n        const savedAddress = localStorage.getItem(\"inheritx_wallet_address\");\n        const savedWalletId = localStorage.getItem(\"inheritx_wallet_id\");\n        if (savedAddress && savedWalletId) {\n          setAddress(savedAddress);\n          setSelectedWalletId(savedWalletId);\n        }\n      } catch (err) {\n        console.error(\"Failed to initialize wallet kit:\", err);\n        setError(\"Failed to load wallet kit\");\n      }\n    };\n\n    initKit();\n  }, []);\n\n  const supportedWallets = [\n    { id: \"freighter\", name: \"Freighter\", icon: \"/icons/freighter.png\" },\n    { id: \"albedo\", name: \"Albedo\", icon: \"/icons/albedo.png\" },\n    { id: \"xbull\", name: \"xBull\", icon: \"/icons/xbull.png\" },\n    { id: \"rabet\", name: \"Rabet\", icon: \"/icons/rabet.png\" },\n    { id: \"lobstr\", name: \"Lobstr\", icon: \"/icons/lobstr.png\" },\n  ];\n\n  const connectWallet = async (moduleId: string) => {\n    if (!kit) {\n      setError(\"Wallet kit not loaded yet\");\n      return;\n    }\n\n    setIsConnecting(true);\n    setError(null);\n\n    try {\n      kit.setWallet(moduleId);\n      const { address: walletAddress } = await kit.getAddress();\n\n      setAddress(walletAddress);\n      setSelectedWalletId(moduleId);\n      localStorage.setItem(\"inheritx_wallet_address\", walletAddress);\n      localStorage.setItem(\"inheritx_wallet_id\", moduleId);\n      setIsModalOpen(false);\n    } catch (err: any) {\n      const errorMessage = err?.message || \"Connection failed\";\n      setError(errorMessage);\n      console.error(\"Wallet connection failed:\", err);\n    } finally {\n      setIsConnecting(false);\n    }\n  };\n\n  const disconnect = async () => {\n    if (kit) {\n      try {\n        await kit.disconnect();\n      } catch (err) {\n        console.error(\"Disconnect error:\", err);\n      }\n    }\n    setAddress(null);\n    setSelectedWalletId(null);\n    setError(null);\n    localStorage.removeItem(\"inheritx_wallet_address\");\n    localStorage.removeItem(\"inheritx_wallet_id\");\n  };\n\n  const openModal = () => {\n    setError(null);\n    setIsModalOpen(true);\n  };\n\n  const closeModal = () => {\n    setError(null);\n    setIsModalOpen(false);\n  };\n\n  return (\n    <WalletContext.Provider\n      value={{\n        connect: connectWallet,\n        disconnect,\n        address,\n        isConnected: !!address,\n        isConnecting,\n        selectedWalletId,\n        openModal,\n        closeModal,\n        isModalOpen,\n        supportedWallets,\n        error,\n      }}\n    >\n      {children}\n    </WalletContext.Provider>\n  );\n};\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAkBA,MAAM,8BAAgB,IAAA,2IAAa,EAAgC;AAE5D,MAAM,YAAY;;IACvB,MAAM,UAAU,IAAA,wIAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;GANa;AAQN,MAAM,iBAAiB,CAAC,EAAE,QAAQ,EAAiC;;IACxE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,sIAAQ,EAAgB;IACtD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,sIAAQ,EAAC;IACjD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,sIAAQ,EAAgB;IACxE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,sIAAQ,EAAC;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,sIAAQ,EAAgB;IAClD,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,sIAAQ,EAAM;IAEpC,IAAA,uIAAS;oCAAC;YACR,MAAM;oDAAU;oBACd,IAAI;wBACF,MAAM,kBAAkB;wBAExB,MAAM,cAAc,IAAI,gBAAgB,iBAAiB,CAAC;4BACxD,SAAS,gBAAgB,aAAa,CAAC,OAAO;4BAC9C,kBAAkB,gBAAgB,YAAY;4BAC9C,SAAS,gBAAgB,eAAe;wBAC1C;wBAEA,OAAO;wBAEP,MAAM,eAAe,aAAa,OAAO,CAAC;wBAC1C,MAAM,gBAAgB,aAAa,OAAO,CAAC;wBAC3C,IAAI,gBAAgB,eAAe;4BACjC,WAAW;4BACX,oBAAoB;wBACtB;oBACF,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,oCAAoC;wBAClD,SAAS;oBACX;gBACF;;YAEA;QACF;mCAAG,EAAE;IAEL,MAAM,mBAAmB;QACvB;YAAE,IAAI;YAAa,MAAM;YAAa,MAAM;QAAuB;QACnE;YAAE,IAAI;YAAU,MAAM;YAAU,MAAM;QAAoB;QAC1D;YAAE,IAAI;YAAS,MAAM;YAAS,MAAM;QAAmB;QACvD;YAAE,IAAI;YAAS,MAAM;YAAS,MAAM;QAAmB;QACvD;YAAE,IAAI;YAAU,MAAM;YAAU,MAAM;QAAoB;KAC3D;IAED,MAAM,gBAAgB,OAAO;QAC3B,IAAI,CAAC,KAAK;YACR,SAAS;YACT;QACF;QAEA,gBAAgB;QAChB,SAAS;QAET,IAAI;YACF,IAAI,SAAS,CAAC;YACd,MAAM,EAAE,SAAS,aAAa,EAAE,GAAG,MAAM,IAAI,UAAU;YAEvD,WAAW;YACX,oBAAoB;YACpB,aAAa,OAAO,CAAC,2BAA2B;YAChD,aAAa,OAAO,CAAC,sBAAsB;YAC3C,eAAe;QACjB,EAAE,OAAO,KAAU;YACjB,MAAM,eAAe,KAAK,WAAW;YACrC,SAAS;YACT,QAAQ,KAAK,CAAC,6BAA6B;QAC7C,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,MAAM,aAAa;QACjB,IAAI,KAAK;YACP,IAAI;gBACF,MAAM,IAAI,UAAU;YACtB,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,qBAAqB;YACrC;QACF;QACA,WAAW;QACX,oBAAoB;QACpB,SAAS;QACT,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;IAC1B;IAEA,MAAM,YAAY;QAChB,SAAS;QACT,eAAe;IACjB;IAEA,MAAM,aAAa;QACjB,SAAS;QACT,eAAe;IACjB;IAEA,qBACE,0JAAC,cAAc,QAAQ;QACrB,OAAO;YACL,SAAS;YACT;YACA;YACA,aAAa,CAAC,CAAC;YACf;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;IAnHa;KAAA"}},
    {"offset": {"line": 628, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/codes/drips_network/soroscope/web/components/ConnectButton.tsx"],"sourcesContent":["\"use client\";\n\nimport { useWallet } from \"../context/WalletContext\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { LogOut } from \"lucide-react\";\n\nconst ArrowDownIcon = () => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"w-5 h-5 text-[#33C5E0]\"\n  >\n    <path\n      d=\"M18.7504 8.24993V17.9999C18.7504 18.1988 18.6714 18.3896 18.5307 18.5303C18.3901 18.6709 18.1993 18.7499 18.0004 18.7499H8.25042C8.0515 18.7499 7.86074 18.6709 7.72009 18.5303C7.57943 18.3896 7.50042 18.1988 7.50042 17.9999C7.50042 17.801 7.57943 17.6103 7.72009 17.4696C7.86074 17.3289 8.0515 17.2499 8.25042 17.2499H16.1901L5.46979 6.53055C5.32906 6.38982 5.25 6.19895 5.25 5.99993C5.25 5.80091 5.32906 5.61003 5.46979 5.4693C5.61052 5.32857 5.80139 5.24951 6.00042 5.24951C6.19944 5.24951 6.39031 5.32857 6.53104 5.4693L17.2504 16.1896V8.24993C17.2504 8.05102 17.3294 7.86025 17.4701 7.7196C17.6107 7.57895 17.8015 7.49993 18.0004 7.49993C18.1993 7.49993 18.3901 7.57895 18.5307 7.7196C18.6714 7.86025 18.7504 8.05102 18.7504 8.24993Z\"\n      fill=\"#33C5E0\"\n    />\n  </svg>\n);\n\nexport function ConnectButton() {\n  const { isConnected, address, openModal, disconnect } = useWallet();\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  const formatAddress = (addr: string) => {\n    if (!addr) return \"\";\n    return `${addr.slice(0, 4)}...${addr.slice(-4)}`;\n  };\n\n  const handleDisconnect = async () => {\n    await disconnect();\n    setDropdownOpen(false);\n  };\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(event.target as Node)\n      ) {\n        setDropdownOpen(false);\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  if (isConnected && address) {\n    return (\n      <div className=\"relative\" ref={dropdownRef}>\n        <button\n          onClick={() => setDropdownOpen(!dropdownOpen)}\n          className=\"flex items-center gap-3 px-6 py-3 rounded-s-2xl bg-[#0F1621] border border-[#1e293b] hover:border-[#33C5E0]/50 transition-all group pointer-events-auto\"\n        >\n          <div className=\"w-2 h-2 rounded-full bg-[#33C5E0] shadow-[0_0_8px_#33C5E0]\" />\n          <span className=\"text-[#33C5E0] font-medium tracking-wide\">\n            {formatAddress(address)}\n          </span>\n          <div\n            className={`transition-transform duration-200 ${\n              dropdownOpen ? \"rotate-180\" : \"\"\n            }`}\n          >\n            <ArrowDownIcon />\n          </div>\n        </button>\n\n        <AnimatePresence>\n          {dropdownOpen && (\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: 10 }}\n              transition={{ duration: 0.15 }}\n              className=\"absolute top-full right-0 mt-2 w-full min-w-[180px] bg-[#0F1621] border border-[#1e293b] rounded-xl shadow-xl overflow-hidden z-50\"\n            >\n              <button\n                onClick={handleDisconnect}\n                className=\"flex items-center gap-3 w-full px-4 py-3 text-red-400 hover:bg-white/5 transition-colors text-sm font-medium\"\n              >\n                <LogOut className=\"w-4 h-4\" />\n                Disconnect\n              </button>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    );\n  }\n\n  return (\n    <motion.button\n      whileHover={{ scale: 1.02 }}\n      whileTap={{ scale: 0.98 }}\n      onClick={openModal}\n      className=\"flex items-center gap-4\"\n    >\n      <div className=\"flex items-center gap-4 px-8 py-3 rounded-s-2xl bg-[#0F1621] border border-[#1e293b] hover:border-[#33C5E0]/50 transition-all text-[#33C5E0] font-medium tracking-wide shadow-lg shadow-black/20\">\n        <span>Connect Wallet</span>\n        <ArrowDownIcon />\n      </div>\n      <div className=\"w-1.5 h-8 bg-[#161E22] flex items-center justify-center transition-colors\" />\n    </motion.button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;;;AALA;;;;;AAOA,MAAM,gBAAgB,kBACpB,0JAAC;QACC,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,OAAM;QACN,WAAU;kBAEV,cAAA,0JAAC;YACC,GAAE;YACF,MAAK;;;;;;;;;;;KAXL;AAgBC,SAAS;;IACd,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,GAAG,IAAA,kIAAS;IACjE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,sIAAQ,EAAC;IACjD,MAAM,cAAc,IAAA,oIAAM,EAAiB;IAE3C,MAAM,gBAAgB,CAAC;QACrB,IAAI,CAAC,MAAM,OAAO;QAClB,OAAO,GAAG,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,KAAK,KAAK,CAAC,CAAC,IAAI;IAClD;IAEA,MAAM,mBAAmB;QACvB,MAAM;QACN,gBAAgB;IAClB;IAEA,uCAAuC;IACvC,IAAA,uIAAS;mCAAC;YACR,SAAS,mBAAmB,KAAiB;gBAC3C,IACE,YAAY,OAAO,IACnB,CAAC,YAAY,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAC1C;oBACA,gBAAgB;gBAClB;YACF;YAEA,SAAS,gBAAgB,CAAC,aAAa;YACvC;2CAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;;QACzD;kCAAG,EAAE;IAEL,IAAI,eAAe,SAAS;QAC1B,qBACE,0JAAC;YAAI,WAAU;YAAW,KAAK;;8BAC7B,0JAAC;oBACC,SAAS,IAAM,gBAAgB,CAAC;oBAChC,WAAU;;sCAEV,0JAAC;4BAAI,WAAU;;;;;;sCACf,0JAAC;4BAAK,WAAU;sCACb,cAAc;;;;;;sCAEjB,0JAAC;4BACC,WAAW,CAAC,kCAAkC,EAC5C,eAAe,eAAe,IAC9B;sCAEF,cAAA,0JAAC;;;;;;;;;;;;;;;;8BAIL,0JAAC,wMAAe;8BACb,8BACC,0JAAC,gMAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,MAAM;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC1B,YAAY;4BAAE,UAAU;wBAAK;wBAC7B,WAAU;kCAEV,cAAA,0JAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,0JAAC,gNAAM;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;;;;;;;;;;;IAQ5C;IAEA,qBACE,0JAAC,gMAAM,CAAC,MAAM;QACZ,YAAY;YAAE,OAAO;QAAK;QAC1B,UAAU;YAAE,OAAO;QAAK;QACxB,SAAS;QACT,WAAU;;0BAEV,0JAAC;gBAAI,WAAU;;kCACb,0JAAC;kCAAK;;;;;;kCACN,0JAAC;;;;;;;;;;;0BAEH,0JAAC;gBAAI,WAAU;;;;;;;;;;;;AAGrB;GAvFgB;;QAC0C,kIAAS;;;MADnD"}},
    {"offset": {"line": 849, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/codes/drips_network/soroscope/web/components/userIcon.tsx"],"sourcesContent":["import React from \"react\";\n\nconst UserIcon = () => (\n  <svg\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"w-5 h-5\"\n  >\n    <path\n      d=\"M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z\"\n      fill=\"currentColor\"\n    />\n    <path\n      d=\"M12 14C7.58172 14 4 17.5817 4 22H20C20 17.5817 16.4183 14 12 14Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport default UserIcon;\n"],"names":[],"mappings":";;;;;;AAEA,MAAM,WAAW,kBACf,0JAAC;QACC,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,OAAM;QACN,WAAU;;0BAEV,0JAAC;gBACC,GAAE;gBACF,MAAK;;;;;;0BAEP,0JAAC;gBACC,GAAE;gBACF,MAAK;;;;;;;;;;;;KAfL;uCAoBS"}},
    {"offset": {"line": 896, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/codes/drips_network/soroscope/web/components/WalletModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useWallet } from \"../context/WalletContext\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Wallet, Check, AlertCircle } from \"lucide-react\";\nimport React from \"react\";\nimport UserIcon from \"./userIcon\";\n\nexport function WalletModal() {\n  const {\n    isModalOpen,\n    closeModal,\n    supportedWallets,\n    connect,\n    isConnecting,\n    error,\n  } = useWallet();\n\n  const [activeSelection, setActiveSelection] = React.useState<string | null>(\n    null,\n  );\n\n  // Reset selection when modal opens\n  React.useEffect(() => {\n    if (isModalOpen) setActiveSelection(null);\n  }, [isModalOpen]);\n\n  const handleConnectClick = async () => {\n    if (activeSelection) {\n      try {\n        await connect(activeSelection);\n      } catch (err) {\n        // Error is handled in context\n        console.error(\"Connection error:\", err);\n      }\n    }\n  };\n\n  return (\n    <AnimatePresence>\n      {isModalOpen && (\n        <>\n          {/* Backdrop */}\n          <div\n            className=\"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm\"\n            onClick={closeModal}\n          />\n          <motion.div\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.95 }}\n            transition={{ duration: 0.2, ease: \"easeOut\" }}\n            className=\"fixed top-40 left-[40%] z-50 w-96 rounded-2xl bg-[#161E22] border border-[#2A3338] p-8 shadow-2xl\"\n          >\n            <div className=\"flex flex-col items-center\">\n              <div className=\"text-center mb-6\">\n                <h2 className=\"text-2xl font-medium text-white\">\n                  Connect Wallet\n                </h2>\n                <p className=\"mt-2 text-[#92A5A8] text-sm\">\n                  Connect your wallet to get started with SoroScope\n                </p>\n              </div>\n\n              {error && (\n                <div className=\"w-full mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2\">\n                  <AlertCircle className=\"w-4 h-4 text-red-400 flex-shrink-0\" />\n                  <span className=\"text-red-400 text-sm\">{error}</span>\n                </div>\n              )}\n\n              <div className=\"flex flex-col gap-3 w-full mb-6\">\n                {supportedWallets.map((wallet) => {\n                  const isSelected = activeSelection === wallet.id;\n                  return (\n                    <button\n                      key={wallet.id}\n                      onClick={() => setActiveSelection(wallet.id)}\n                      className={`flex items-center gap-4 w-full p-4 rounded-xl transition-all border ${\n                        isSelected\n                          ? \"bg-[#1a2333] border-[#33C5E0]/30\"\n                          : \"bg-transparent border-[#2A3338] hover:bg-[#1a2333] hover:border-[#33C5E0]/20\"\n                      }`}\n                    >\n                      {/* Radio Circle */}\n                      <div\n                        className={`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${\n                          isSelected\n                            ? \"border-[#33C5E0] bg-[#33C5E0]\"\n                            : \"border-[#2d3b4f]\"\n                        }`}\n                      >\n                        {isSelected && (\n                          <Check\n                            className=\"w-3 h-3 text-black\"\n                            strokeWidth={3}\n                          />\n                        )}\n                      </div>\n\n                      {/* Icon */}\n                      <div className=\"text-[#92A5A8]\">\n                        <Wallet className=\"w-5 h-5\" />\n                      </div>\n\n                      <span className=\"font-medium text-white text-left flex-1\">\n                        {wallet.name}\n                      </span>\n                    </button>\n                  );\n                })}\n              </div>\n\n              <button\n                onClick={handleConnectClick}\n                disabled={!activeSelection || isConnecting}\n                className={`w-full py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${\n                  activeSelection && !isConnecting\n                    ? \"bg-[#33C5E0] hover:bg-[#33C5E0]/90 text-black\"\n                    : \"bg-[#2A3338] cursor-not-allowed text-gray-500\"\n                }`}\n              >\n                <UserIcon />\n                <span>{isConnecting ? \"Connecting...\" : \"Connect Wallet\"}</span>\n              </button>\n            </div>\n          </motion.div>\n        </>\n      )}\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;;;AANA;;;;;;AAQO,SAAS;;IACd,MAAM,EACJ,WAAW,EACX,UAAU,EACV,gBAAgB,EAChB,OAAO,EACP,YAAY,EACZ,KAAK,EACN,GAAG,IAAA,kIAAS;IAEb,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,qIAAK,CAAC,QAAQ,CAC1D;IAGF,mCAAmC;IACnC,qIAAK,CAAC,SAAS;iCAAC;YACd,IAAI,aAAa,mBAAmB;QACtC;gCAAG;QAAC;KAAY;IAEhB,MAAM,qBAAqB;QACzB,IAAI,iBAAiB;YACnB,IAAI;gBACF,MAAM,QAAQ;YAChB,EAAE,OAAO,KAAK;gBACZ,8BAA8B;gBAC9B,QAAQ,KAAK,CAAC,qBAAqB;YACrC;QACF;IACF;IAEA,qBACE,0JAAC,wMAAe;kBACb,6BACC;;8BAEE,0JAAC;oBACC,WAAU;oBACV,SAAS;;;;;;8BAEX,0JAAC,gMAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAK;oBACnC,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAE;oBAChC,MAAM;wBAAE,SAAS;wBAAG,OAAO;oBAAK;oBAChC,YAAY;wBAAE,UAAU;wBAAK,MAAM;oBAAU;oBAC7C,WAAU;8BAEV,cAAA,0JAAC;wBAAI,WAAU;;0CACb,0JAAC;gCAAI,WAAU;;kDACb,0JAAC;wCAAG,WAAU;kDAAkC;;;;;;kDAGhD,0JAAC;wCAAE,WAAU;kDAA8B;;;;;;;;;;;;4BAK5C,uBACC,0JAAC;gCAAI,WAAU;;kDACb,0JAAC,+NAAW;wCAAC,WAAU;;;;;;kDACvB,0JAAC;wCAAK,WAAU;kDAAwB;;;;;;;;;;;;0CAI5C,0JAAC;gCAAI,WAAU;0CACZ,iBAAiB,GAAG,CAAC,CAAC;oCACrB,MAAM,aAAa,oBAAoB,OAAO,EAAE;oCAChD,qBACE,0JAAC;wCAEC,SAAS,IAAM,mBAAmB,OAAO,EAAE;wCAC3C,WAAW,CAAC,oEAAoE,EAC9E,aACI,qCACA,gFACJ;;0DAGF,0JAAC;gDACC,WAAW,CAAC,iFAAiF,EAC3F,aACI,kCACA,oBACJ;0DAED,4BACC,0JAAC,yMAAK;oDACJ,WAAU;oDACV,aAAa;;;;;;;;;;;0DAMnB,0JAAC;gDAAI,WAAU;0DACb,cAAA,0JAAC,4MAAM;oDAAC,WAAU;;;;;;;;;;;0DAGpB,0JAAC;gDAAK,WAAU;0DACb,OAAO,IAAI;;;;;;;uCA9BT,OAAO,EAAE;;;;;gCAkCpB;;;;;;0CAGF,0JAAC;gCACC,SAAS;gCACT,UAAU,CAAC,mBAAmB;gCAC9B,WAAW,CAAC,yFAAyF,EACnG,mBAAmB,CAAC,eAChB,kDACA,iDACJ;;kDAEF,0JAAC,8HAAQ;;;;;kDACT,0JAAC;kDAAM,eAAe,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQxD;GA3HgB;;QAQV,kIAAS;;;KARC"}},
    {"offset": {"line": 1134, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/codes/drips_network/soroscope/web/pages/index.tsx"],"sourcesContent":["import Head from \"next/head\";\nimport { ConnectButton } from \"../components/ConnectButton\";\nimport { WalletModal } from \"../components/WalletModal\";\n\nexport default function Home() {\n  return (\n    <>\n      <Head>\n        <title>SoroScope Dashboard</title>\n        <meta\n          name=\"description\"\n          content=\"Soroban Resource Profiler – Web Dashboard\"\n        />\n      </Head>\n\n      {/* Header */}\n      <header className=\"fixed top-0 left-0 right-0 z-30 bg-slate-950/80 backdrop-blur-sm border-b border-slate-800\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <h1 className=\"text-2xl font-bold text-white\">SoroScope</h1>\n          </div>\n\n          {/* Wallet Connection in Top-Right */}\n          <div className=\"flex items-center gap-4\">\n            <ConnectButton />\n          </div>\n        </div>\n      </header>\n\n      <main className=\"min-h-screen bg-slate-950 text-slate-100 pt-20\">\n        <div className=\"max-w-7xl mx-auto px-6 py-8\">\n          <div className=\"text-center mb-12\">\n            <h1 className=\"text-4xl font-bold mb-4\">SoroScope</h1>\n            <p className=\"text-slate-300\">\n              Soroban Resource Profiler – Web Dashboard\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-6\">\n              <h3 className=\"text-xl font-semibold mb-3\">Resource Profiling</h3>\n              <p className=\"text-slate-400\">\n                Analyze and profile Soroban smart contract resource usage\n              </p>\n            </div>\n\n            <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-6\">\n              <h3 className=\"text-xl font-semibold mb-3\">\n                Performance Metrics\n              </h3>\n              <p className=\"text-slate-400\">\n                Track CPU, memory, and storage consumption in real-time\n              </p>\n            </div>\n\n            <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl p-6\">\n              <h3 className=\"text-xl font-semibold mb-3\">Optimize Contracts</h3>\n              <p className=\"text-slate-400\">\n                Identify bottlenecks and optimize your smart contracts\n              </p>\n            </div>\n          </div>\n        </div>\n      </main>\n\n      {/* Wallet Modal */}\n      <WalletModal />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,SAAS;IACtB,qBACE;;0BACE,0JAAC,mIAAI;;kCACH,0JAAC;kCAAM;;;;;;kCACP,0JAAC;wBACC,MAAK;wBACL,SAAQ;;;;;;;;;;;;0BAKZ,0JAAC;gBAAO,WAAU;0BAChB,cAAA,0JAAC;oBAAI,WAAU;;sCACb,0JAAC;4BAAI,WAAU;sCACb,cAAA,0JAAC;gCAAG,WAAU;0CAAgC;;;;;;;;;;;sCAIhD,0JAAC;4BAAI,WAAU;sCACb,cAAA,0JAAC,yIAAa;;;;;;;;;;;;;;;;;;;;;0BAKpB,0JAAC;gBAAK,WAAU;0BACd,cAAA,0JAAC;oBAAI,WAAU;;sCACb,0JAAC;4BAAI,WAAU;;8CACb,0JAAC;oCAAG,WAAU;8CAA0B;;;;;;8CACxC,0JAAC;oCAAE,WAAU;8CAAiB;;;;;;;;;;;;sCAKhC,0JAAC;4BAAI,WAAU;;8CACb,0JAAC;oCAAI,WAAU;;sDACb,0JAAC;4CAAG,WAAU;sDAA6B;;;;;;sDAC3C,0JAAC;4CAAE,WAAU;sDAAiB;;;;;;;;;;;;8CAKhC,0JAAC;oCAAI,WAAU;;sDACb,0JAAC;4CAAG,WAAU;sDAA6B;;;;;;sDAG3C,0JAAC;4CAAE,WAAU;sDAAiB;;;;;;;;;;;;8CAKhC,0JAAC;oCAAI,WAAU;;sDACb,0JAAC;4CAAG,WAAU;sDAA6B;;;;;;sDAC3C,0JAAC;4CAAE,WAAU;sDAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAStC,0JAAC,qIAAW;;;;;;;AAGlB;KAjEwB"}},
    {"offset": {"line": 1357, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/entry/page-loader.ts"],"sourcesContent":["const PAGE_PATH = \"/\";\n\n/// <reference types=\"next/client\" />\n\n// inserted by rust code\ndeclare const PAGE_PATH: string\n\n  // Adapted from https://github.com/vercel/next.js/blob/b7f9f1f98fc8ab602e84825105b5727272b72e7d/packages/next/src/build/webpack/loaders/next-client-pages-loader.ts\n;(window.__NEXT_P = window.__NEXT_P || []).push([\n  PAGE_PATH,\n  () => {\n    return require('PAGE')\n  },\n])\n// @ts-expect-error module.hot exists\nif (module.hot) {\n  // @ts-expect-error module.hot exists\n  module.hot.dispose(function () {\n    window.__NEXT_P.push([PAGE_PATH])\n  })\n}\n"],"names":[],"mappings":"AAAA,MAAM,YAAY;AAQjB,CAAC,OAAO,QAAQ,GAAG,OAAO,QAAQ,IAAI,EAAE,EAAE,IAAI,CAAC;IAC9C;IACA;QACE;IACF;CACD;AACD,qCAAqC;AACrC,IAAI,OAAO,GAAG,EAAE;IACd,qCAAqC;IACrC,OAAO,GAAG,CAAC,OAAO,CAAC;QACjB,OAAO,QAAQ,CAAC,IAAI,CAAC;YAAC;SAAU;IAClC;AACF","ignoreList":[0]}}]
}