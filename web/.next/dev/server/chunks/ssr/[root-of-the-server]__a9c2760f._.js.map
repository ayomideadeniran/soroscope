{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/codes/drips_network/soroscope/web/context/WalletContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\n\ninterface WalletContextType {\n  connect: (moduleId: string) => Promise<void>;\n  disconnect: () => Promise<void>;\n  address: string | null;\n  isConnected: boolean;\n  isConnecting: boolean;\n  selectedWalletId: string | null;\n  openModal: () => void;\n  closeModal: () => void;\n  isModalOpen: boolean;\n  supportedWallets: { id: string; name: string; icon: string }[];\n  error: string | null;\n}\n\nconst WalletContext = createContext<WalletContextType | undefined>(undefined);\n\nexport const useWallet = () => {\n  const context = useContext(WalletContext);\n  if (!context) {\n    throw new Error(\"useWallet must be used within a WalletProvider\");\n  }\n  return context;\n};\n\nexport const WalletProvider = ({ children }: { children: React.ReactNode }) => {\n  const [address, setAddress] = useState<string | null>(null);\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [selectedWalletId, setSelectedWalletId] = useState<string | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [kit, setKit] = useState<any>(null);\n\n  useEffect(() => {\n    const initKit = async () => {\n      try {\n        const walletKitModule = await import(\"@creit.tech/stellar-wallets-kit\");\n\n        const kitInstance = new walletKitModule.StellarWalletsKit({\n          network: walletKitModule.WalletNetwork.TESTNET,\n          selectedWalletId: walletKitModule.FREIGHTER_ID,\n          modules: walletKitModule.allowAllModules(),\n        });\n\n        setKit(kitInstance);\n\n        const savedAddress = localStorage.getItem(\"inheritx_wallet_address\");\n        const savedWalletId = localStorage.getItem(\"inheritx_wallet_id\");\n        if (savedAddress && savedWalletId) {\n          setAddress(savedAddress);\n          setSelectedWalletId(savedWalletId);\n        }\n      } catch (err) {\n        console.error(\"Failed to initialize wallet kit:\", err);\n        setError(\"Failed to load wallet kit\");\n      }\n    };\n\n    initKit();\n  }, []);\n\n  const supportedWallets = [\n    { id: \"freighter\", name: \"Freighter\", icon: \"/icons/freighter.png\" },\n    { id: \"albedo\", name: \"Albedo\", icon: \"/icons/albedo.png\" },\n    { id: \"xbull\", name: \"xBull\", icon: \"/icons/xbull.png\" },\n    { id: \"rabet\", name: \"Rabet\", icon: \"/icons/rabet.png\" },\n    { id: \"lobstr\", name: \"Lobstr\", icon: \"/icons/lobstr.png\" },\n  ];\n\n  const connectWallet = async (moduleId: string) => {\n    if (!kit) {\n      setError(\"Wallet kit not loaded yet\");\n      return;\n    }\n\n    setIsConnecting(true);\n    setError(null);\n\n    try {\n      kit.setWallet(moduleId);\n      const { address: walletAddress } = await kit.getAddress();\n\n      setAddress(walletAddress);\n      setSelectedWalletId(moduleId);\n      localStorage.setItem(\"inheritx_wallet_address\", walletAddress);\n      localStorage.setItem(\"inheritx_wallet_id\", moduleId);\n      setIsModalOpen(false);\n    } catch (err: any) {\n      const errorMessage = err?.message || \"Connection failed\";\n      setError(errorMessage);\n      console.error(\"Wallet connection failed:\", err);\n    } finally {\n      setIsConnecting(false);\n    }\n  };\n\n  const disconnect = async () => {\n    if (kit) {\n      try {\n        await kit.disconnect();\n      } catch (err) {\n        console.error(\"Disconnect error:\", err);\n      }\n    }\n    setAddress(null);\n    setSelectedWalletId(null);\n    setError(null);\n    localStorage.removeItem(\"inheritx_wallet_address\");\n    localStorage.removeItem(\"inheritx_wallet_id\");\n  };\n\n  const openModal = () => {\n    setError(null);\n    setIsModalOpen(true);\n  };\n\n  const closeModal = () => {\n    setError(null);\n    setIsModalOpen(false);\n  };\n\n  return (\n    <WalletContext.Provider\n      value={{\n        connect: connectWallet,\n        disconnect,\n        address,\n        isConnected: !!address,\n        isConnecting,\n        selectedWalletId,\n        openModal,\n        closeModal,\n        isModalOpen,\n        supportedWallets,\n        error,\n      }}\n    >\n      {children}\n    </WalletContext.Provider>\n  );\n};\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAkBA,MAAM,8BAAgB,IAAA,oHAAa,EAAgC;AAE5D,MAAM,YAAY;IACvB,MAAM,UAAU,IAAA,iHAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAEO,MAAM,iBAAiB,CAAC,EAAE,QAAQ,EAAiC;IACxE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAgB;IACtD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,+GAAQ,EAAC;IACjD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,+GAAQ,EAAgB;IACxE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,+GAAQ,EAAC;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAgB;IAClD,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,+GAAQ,EAAM;IAEpC,IAAA,gHAAS,EAAC;QACR,MAAM,UAAU;YACd,IAAI;gBACF,MAAM,kBAAkB;gBAExB,MAAM,cAAc,IAAI,gBAAgB,iBAAiB,CAAC;oBACxD,SAAS,gBAAgB,aAAa,CAAC,OAAO;oBAC9C,kBAAkB,gBAAgB,YAAY;oBAC9C,SAAS,gBAAgB,eAAe;gBAC1C;gBAEA,OAAO;gBAEP,MAAM,eAAe,aAAa,OAAO,CAAC;gBAC1C,MAAM,gBAAgB,aAAa,OAAO,CAAC;gBAC3C,IAAI,gBAAgB,eAAe;oBACjC,WAAW;oBACX,oBAAoB;gBACtB;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,oCAAoC;gBAClD,SAAS;YACX;QACF;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,mBAAmB;QACvB;YAAE,IAAI;YAAa,MAAM;YAAa,MAAM;QAAuB;QACnE;YAAE,IAAI;YAAU,MAAM;YAAU,MAAM;QAAoB;QAC1D;YAAE,IAAI;YAAS,MAAM;YAAS,MAAM;QAAmB;QACvD;YAAE,IAAI;YAAS,MAAM;YAAS,MAAM;QAAmB;QACvD;YAAE,IAAI;YAAU,MAAM;YAAU,MAAM;QAAoB;KAC3D;IAED,MAAM,gBAAgB,OAAO;QAC3B,IAAI,CAAC,KAAK;YACR,SAAS;YACT;QACF;QAEA,gBAAgB;QAChB,SAAS;QAET,IAAI;YACF,IAAI,SAAS,CAAC;YACd,MAAM,EAAE,SAAS,aAAa,EAAE,GAAG,MAAM,IAAI,UAAU;YAEvD,WAAW;YACX,oBAAoB;YACpB,aAAa,OAAO,CAAC,2BAA2B;YAChD,aAAa,OAAO,CAAC,sBAAsB;YAC3C,eAAe;QACjB,EAAE,OAAO,KAAU;YACjB,MAAM,eAAe,KAAK,WAAW;YACrC,SAAS;YACT,QAAQ,KAAK,CAAC,6BAA6B;QAC7C,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,MAAM,aAAa;QACjB,IAAI,KAAK;YACP,IAAI;gBACF,MAAM,IAAI,UAAU;YACtB,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,qBAAqB;YACrC;QACF;QACA,WAAW;QACX,oBAAoB;QACpB,SAAS;QACT,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;IAC1B;IAEA,MAAM,YAAY;QAChB,SAAS;QACT,eAAe;IACjB;IAEA,MAAM,aAAa;QACjB,SAAS;QACT,eAAe;IACjB;IAEA,qBACE,qKAAC,cAAc,QAAQ;QACrB,OAAO;YACL,SAAS;YACT;YACA;YACA,aAAa,CAAC,CAAC;YACf;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/codes/drips_network/soroscope/web/pages/_app.tsx"],"sourcesContent":["import type { AppProps } from \"next/app\";\nimport \"../styles/globals.css\";\nimport { WalletProvider } from \"../context/WalletContext\";\n\nexport default function App({ Component, pageProps }: AppProps) {\n  return (\n    <WalletProvider>\n      <Component {...pageProps} />\n    </WalletProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;AAEe,SAAS,IAAI,EAAE,SAAS,EAAE,SAAS,EAAY;IAC5D,qBACE,qKAAC,oIAAc;kBACb,cAAA,qKAAC;YAAW,GAAG,SAAS;;;;;;;;;;;AAG9B"}}]
}